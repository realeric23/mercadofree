{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_PRODUCT_REQUEST, FETCH_PRODUCT_SUCCESS, FETCH_PRODUCT_FAILURE, FILTER_PRODUCTS } from '../constants/constants.js'; //ACTIONS\n\nexport const fetchProduct = product => async dispatch => {\n  try {\n    dispatch({\n      type: FETCH_PRODUCT_REQUEST,\n      payload: ''\n    });\n    const {\n      data\n    } = await axios.get('/search?q=' + product);\n    dispatch({\n      type: FETCH_PRODUCT_SUCCESS,\n      payload: data,\n      query: product\n    });\n    console.log('----->', data);\n  } catch (error) {\n    dispatch({\n      type: FETCH_PRODUCT_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const filter = (products, sortBy) => async dispatch => {\n  //@lower price\n  if (sortBy === 'lowerPrice') {\n    products.sort(function (a, b) {\n      return a.price - b.price;\n    });\n  } //@higher price\n  else if (sortBy === 'higherPrice') {\n    products.sort(function (a, b) {\n      return b.price - a.price;\n    });\n  } //@ascending name\n  else if (sortBy === 'ascName') {\n    products.sort(function (a, b) {\n      if (a.title < b.title) {\n        return -1;\n      }\n\n      if (a.title > b.title) {\n        return 1;\n      }\n\n      return 0;\n    });\n  } //@descending name\n  else if (sortBy === 'descName') {\n    products.sort(function (a, b) {\n      if (b.title < a.title) {\n        return -1;\n      }\n\n      if (b.title > a.title) {\n        return 1;\n      }\n\n      return 0;\n    });\n  } //@condition used\n  else if (sortBy === 'used') {\n    var usedProducts = products.filter(item => {\n      if (item.condition === 'used') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = usedProducts;\n  } //@condition new\n  else if (sortBy === 'new') {\n    var newProducts = products.filter(item => {\n      if (item.condition === 'new') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = newProducts;\n  }\n\n  return dispatch({\n    type: FILTER_PRODUCTS,\n    payload: {\n      condition: sortBy,\n      products: products\n    }\n  });\n};","map":{"version":3,"sources":["/home/eric/Documents/Coding/mercadofree/server/client/src/redux/actions/searchActions.js"],"names":["axios","FETCH_PRODUCT_REQUEST","FETCH_PRODUCT_SUCCESS","FETCH_PRODUCT_FAILURE","FILTER_PRODUCTS","fetchProduct","product","dispatch","type","payload","data","get","query","console","log","error","message","filter","products","sortBy","sort","a","b","price","title","usedProducts","item","condition","newProducts"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  FETCH_PRODUCT_REQUEST,\n  FETCH_PRODUCT_SUCCESS,\n  FETCH_PRODUCT_FAILURE,\n  FILTER_PRODUCTS,\n} from '../constants/constants.js';\n\n//ACTIONS\n\nexport const fetchProduct = (product) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_PRODUCT_REQUEST, payload: '' });\n    const { data } = await axios.get('/search?q=' + product);\n    dispatch({ type: FETCH_PRODUCT_SUCCESS, payload: data, query: product });\n    console.log('----->', data);\n  } catch (error) {\n    dispatch({ type: FETCH_PRODUCT_FAILURE, payload: error.message });\n  }\n};\n\nexport const filter = (products, sortBy) => async (dispatch) => {\n  //@lower price\n  if (sortBy === 'lowerPrice') {\n    products.sort(function (a, b) {\n      return a.price - b.price;\n    });\n  }\n\n  //@higher price\n  else if (sortBy === 'higherPrice') {\n    products.sort(function (a, b) {\n      return b.price - a.price;\n    });\n  }\n\n  //@ascending name\n  else if (sortBy === 'ascName') {\n    products.sort(function (a, b) {\n      if (a.title < b.title) {\n        return -1;\n      }\n      if (a.title > b.title) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n\n  //@descending name\n  else if (sortBy === 'descName') {\n    products.sort(function (a, b) {\n      if (b.title < a.title) {\n        return -1;\n      }\n      if (b.title > a.title) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n\n  //@condition used\n  else if (sortBy === 'used') {\n    var usedProducts = products.filter((item) => {\n      if (item.condition === 'used') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = usedProducts;\n  }\n  //@condition new\n  else if (sortBy === 'new') {\n    var newProducts = products.filter((item) => {\n      if (item.condition === 'new') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = newProducts;\n  }\n\n  return dispatch({\n    type: FILTER_PRODUCTS,\n    payload: {\n      condition: sortBy,\n      products: products,\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}