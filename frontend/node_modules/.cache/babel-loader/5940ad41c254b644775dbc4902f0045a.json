{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_PRODUCT_REQUEST, FETCH_PRODUCT_SUCCESS, FETCH_PRODUCT_FAILURE, FILTER_PRODUCTS } from '../constants/constants.js'; //ACTIONS\n\nexport const fetchProduct = product => async dispatch => {\n  try {\n    dispatch({\n      type: FETCH_PRODUCT_REQUEST,\n      payload: ''\n    });\n    const {\n      data\n    } = await axios.get('http://localhost:3001/search?q=' + product);\n    dispatch({\n      type: FETCH_PRODUCT_SUCCESS,\n      payload: data,\n      query: product\n    });\n    console.log('----->', data);\n  } catch (error) {\n    dispatch({\n      type: FETCH_PRODUCT_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const filter = (products, sortBy) => async dispatch => {\n  //////////// LOWER PRICE //////////\n  if (sortBy === 'lowerPrice') {\n    products.sort(function (a, b) {\n      return a.price - b.price;\n    });\n  } //////////// HIGHER PRICE //////////\n  else if (sortBy === 'higherPrice') {\n      products.sort(function (a, b) {\n        return b.price - a.price;\n      });\n    } //////////// ASCENDING NAME //////////\n    else if (sortBy === 'ascName') {\n        products.sort(function (a, b) {\n          if (a.title < b.title) {\n            return -1;\n          }\n\n          if (a.title > b.title) {\n            return 1;\n          }\n\n          return 0;\n        });\n      } //////////// DESCENDING NAME //////////\n      else if (sortBy === 'descName') {\n          products.sort(function (a, b) {\n            if (b.title < a.title) {\n              return -1;\n            }\n\n            if (b.title > a.title) {\n              return 1;\n            }\n\n            return 0;\n          });\n        } //////////// USED //////////\n        else if (sortBy === 'used') {\n            var usedProducts = products.filter(item => {\n              if (item.condition === 'used') {\n                return true;\n              } else {\n                return false;\n              }\n            });\n            products = usedProducts;\n          } //////////// NEW //////////\n          else if (sortBy === 'new') {\n              var newProducts = products.filter(item => {\n                if (item.condition === 'new') {\n                  return true;\n                } else {\n                  return false;\n                }\n              });\n              products = newProducts;\n            }\n\n  return dispatch({\n    type: FILTER_PRODUCTS,\n    payload: {\n      condition: sortBy,\n      products: products\n    }\n  });\n};","map":{"version":3,"sources":["/Users/googledrive/Documents/Henry/Ecommerce/mercadofree/frontend/src/redux/actions/searchActions.js"],"names":["axios","FETCH_PRODUCT_REQUEST","FETCH_PRODUCT_SUCCESS","FETCH_PRODUCT_FAILURE","FILTER_PRODUCTS","fetchProduct","product","dispatch","type","payload","data","get","query","console","log","error","message","filter","products","sortBy","sort","a","b","price","title","usedProducts","item","condition","newProducts"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  FETCH_PRODUCT_REQUEST,\n  FETCH_PRODUCT_SUCCESS,\n  FETCH_PRODUCT_FAILURE,\n  FILTER_PRODUCTS,\n} from '../constants/constants.js';\n\n//ACTIONS\n\nexport const fetchProduct = (product) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_PRODUCT_REQUEST, payload: '' });\n    const { data } = await axios.get(\n      'http://localhost:3001/search?q=' + product\n    );\n    dispatch({ type: FETCH_PRODUCT_SUCCESS, payload: data, query: product });\n    console.log('----->', data);\n  } catch (error) {\n    dispatch({ type: FETCH_PRODUCT_FAILURE, payload: error.message });\n  }\n};\n\nexport const filter = (products, sortBy) => async (dispatch) => {\n  //////////// LOWER PRICE //////////\n  if (sortBy === 'lowerPrice') {\n    products.sort(function (a, b) {\n      return a.price - b.price;\n    });\n  }\n  //////////// HIGHER PRICE //////////\n  else if (sortBy === 'higherPrice') {\n    products.sort(function (a, b) {\n      return b.price - a.price;\n    });\n  }\n  //////////// ASCENDING NAME //////////\n  else if (sortBy === 'ascName') {\n    products.sort(function (a, b) {\n      if (a.title < b.title) {\n        return -1;\n      }\n      if (a.title > b.title) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n  //////////// DESCENDING NAME //////////\n  else if (sortBy === 'descName') {\n    products.sort(function (a, b) {\n      if (b.title < a.title) {\n        return -1;\n      }\n      if (b.title > a.title) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n  //////////// USED //////////\n  else if (sortBy === 'used') {\n    var usedProducts = products.filter((item) => {\n      if (item.condition === 'used') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = usedProducts;\n  }\n  //////////// NEW //////////\n  else if (sortBy === 'new') {\n    var newProducts = products.filter((item) => {\n      if (item.condition === 'new') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    products = newProducts;\n  }\n\n  return dispatch({\n    type: FILTER_PRODUCTS,\n    payload: {\n      condition: sortBy,\n      products: products,\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}